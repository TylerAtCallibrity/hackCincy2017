version: '2'
services:
  bartender:
   build: ./litbit-bartender
   image: litbit-bartender:snapshot
   depends_on:
     - db
   ports:
     - "4567:4567"
   networks:
      - demo

  ui:
   build: ./litbit-ui
   image: litbit-ui:snapshot
   depends_on:
     - bartender
   ports:
     -  "8080:80"
   networks:
      - demo

  db:
    build: ./litbit-mysql
    image: litbit-mysql:snapshot
    ports:
      - "3307:3306"
    environment:
      MYSQL_ALLOW_EMPTY_PASSWORD: 'yes'
      MYSQL_DATABASE: 'drinks'
    networks:
      - demo

networks:
  demo:
    driver: bridge